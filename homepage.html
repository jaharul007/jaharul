<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    /* --- यह कोड सब कुछ बराबर रखेगा --- */

/* 1. छोटे मोबाइल (iPhone SE, पुराने छोटे Samsung/Mi) */
@media screen and (max-width: 380px) {
    .original-icon, .mines-icon, .extra-slot-icon {
        width: 65px !important; /* बटन थोड़े छोटे ताकि स्क्रीन से बाहर न जाएँ */
        height: 65px !important;
    }
    .icon-label {
        font-size: 11px !important;
        width: 65px !important;
    }
    .wallet-fix {
        font-size: 15px !important;
        min-width: 60px !important;
    }
    #ff-play-container {
        width: 120px !important; /* Play बटन भी छोटा हो जाएगा */
    }
}

/* 2. मीडियम और बड़े मोबाइल (iPhone Pro Max, Google Pixel, OnePlus) */
@media screen and (min-width: 381px) and (max-width: 480px) {
    /* यहाँ आपका वर्तमान कोड सही काम करेगा */
}

/* 3. टैबलेट के लिए (अगर कोई टैबलेट में खोले तो भी खराब न दिखे) */
@media screen and (min-width: 481px) and (max-width: 1024px) {
    .container {
        max-width: 500px; /* कंटेंट को बीच में रखेगा, फैलने नहीं देगा */
        margin: 0 auto;
    }
    .bottom-fixed {
        width: 500px !important;
    }
}

/* 4. यूनिवर्सल फिक्स: इमेज कभी फटे नहीं और बटन गायब न हों */
img {
    max-width: 100%;
    height: auto;
}
    
    #ff-play-container {
    position: absolute;
    display: none; /* शुरुआत में गायब */
    z-index: 2500;
    
    /* --- यहाँ से कंट्रोल कर --- */
    top: 64%;      /* ऊपर-नीचे करने के लिए (कम करोगे तो ऊपर जाएगा) */
    left: 20%;     /* लेफ्ट-राइट के लिए */
    transform: translateX(-50%);
    width: 150px;  /* बटन की चौड़ाई (मोटा करने के लिए बढ़ा दे) */
}

.play-btn-main {
    width: 100%;
    padding: 5px;
    background: linear-gradient(180deg, #f0ad4e 0%, #d9534f 100%); /* ऑरेंज-लाल गेमिंग लुक */
    color: white;
    font-weight: bold;
    border: 2px solid #fff;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(255, 0, 0, 0.4);
    font-size: 16px;
    text-transform: uppercase;
}

    .ff-new-image {
    position: absolute;
    top: 50%; /* पोजीशन सेट करें */
    left: 50%;
    transform: translateX(-50%);
    width: 10% !important; /* चौड़ाई (छोटा/बड़ा) - आप इसे % या px में बदल सकती हैं */
    z-index: 500;
    display: none; /* शुरुआत में छुपा हुआ रहेगा */
}

.ff-new-image img {
    width: 100%; 
    height: auto; /* मोटाई (हाइट) अपने आप एडजस्ट हो जाएगी */
    border-radius: 10px; /* किनारे (चेहरा) गोल कर सकती हैं */
}

    /* जब बटन एक्टिव (क्लिक) हो, तब ये लाइट जलेगी */
.active-border {
    border: 3px solid #ffffff !important; /* सफ़ेद बॉर्डर */
    box-shadow: 0 0 20px #ffffff, 0 0 40px #00ff00 !important; /* डबल चमक */
    transform: scale(1.05); /* थोड़ा बड़ा दिखेगा */
    transition: all 0.2s ease;
}

/* क्लिक करने के लिए बटन को कर्सर पॉइंटर दें */
.original-icon, .mines-icon, .extra-slot-icon, .ff-tournament-banner {
    cursor: pointer;
    transition: all 0.2s ease;
}

       /* टेक्स्ट के लिए कॉमन स्टाइल */
.icon-label {
    position: absolute;
    z-index: 2001;
    color: white;
    font-family: Arial, sans-serif;
    font-size: 10px; /* मोबाइल के हिसाब से साइज */
    font-weight: bold;
    text-align: center;
    width: 74px; /* आइकॉन के बराबर चौड़ाई */
    text-shadow: 1px 1px 2px black; /* पढ़ने में आसानी हो */
}

/* हर टेक्स्ट की पोजीशन - आइकॉन के ठीक नीचे */
.original-label {
    top: 30.5%; /* आइकॉन 18.9% पर है + हाइट के बाद का गैप */
    left: 2.1%;
    font-size: 13px;
}

.mines-label {
    top: 30.5%;
    left: 79.2%;
    font-size: 13px;
}

.slot-label {
    top: 30.5%;
    left: 53.3%;
    font-size: 13px;
}

/* 1. Original Icon - सेम बॉर्डर और चमक */
.original-icon {
    position: absolute;
    top: 18.9%;
    left: 2.1%;
    width: 74px;
    height: 74px;
    z-index: 2000;
    border-radius: 20%;
    overflow: hidden;
    border: 2px solid #00ff00; /* हरा बॉर्डर */
    box-shadow: 0 0 10px #00ff00; /* हरी चमक */
}

/* 2. Mines Icon - सेम बॉर्डर और चमक */
.mines-icon {
    position: absolute;
    top: 18.9%;
    left: 78.7%;
    width: 74px;
    height: 74px;
    z-index: 2000;
    border-radius: 15px;
    overflow: hidden;
    border: 2px solid #00ff00; /* हरा बॉर्डर */
    box-shadow: 0 0 10px #00ff00; /* हरी चमक */
}

/* 3. Slot Icon - सेम बॉर्डर और चमक */
.extra-slot-icon {
    position: absolute;
    top: 18.9%;
    left: 53.3%;
    width: 74px;
    height: 74px;
    z-index: 2000;
    border-radius: 20%;
    overflow: hidden;
    border: 2px solid #00ff00; /* हरा बॉर्डर */
    box-shadow: 0 0 10px #00ff00; /* हरी चमक */
}

/* 4. FF Tournament Banner - सेम बॉर्डर और चमक */
.ff-tournament-banner {
    position: absolute;
    top: 19%; 
    left: 37%;
    width: 18%;
    z-index: 1000;
    transform: translateX(-50%);
    border-radius: 17px; 
    overflow: hidden;
    border: 2px solid #00ff00; /* हरा बॉर्डर */
    box-shadow: 0 0 10px #00ff00; /* हरी चमक */
}

/* इमेज की सेटिंग (ताकि सही दिखें) */
.original-icon img, .mines-icon img, .extra-slot-icon img, .ff-tournament-banner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}
        /* --- Border for debugging (Taki aap button dekh saken) --- */
        .wingo-btn, .chicken-btn, .aviator-btn, .deposit-btn, .withdraw-btn, .account-btn-box {
            border: 2px dashed red !important; /* Lal rang ki border add ki gayi hai */
            box-sizing: border-box;
        }

        /* --- Baki ka original style --- */
        /* यहाँ से फोटो की चौड़ाई और पोजीशन कंट्रोल होगी */
.home-bottom-img {
    position: absolute;
    top: 50%; 
    left: 50%;
    transform: translateX(-50%);
    width: 100%; /* शुरुआत में पूरा बड़ा रहेगा */
    z-index: 500;
    display: block;
    transition: all 0.4s ease; /* छोटा-बड़ा और साइड में जाने का एनीमेशन */
}
.home-bottom-img img {
    width: 100%; /* इसे 100% ही रहने दें */
    height: auto; /* इससे फोटो का चेहरा मोटा-पतला नहीं होगा, सही रहेगा */
    border-radius: 10px;
}


        .mini-games-strip {
    position: absolute;
    top: 53%;
    left: 37%;
    transform: translateX(-50%);
    width: 20%;
    /* Updated: काली बैकग्राउंड हटाई और स्टाइल बदला */
    background: none; 
    color: white;
    text-align: center;
    padding: 2px 0;
    font-size: 9px;
    font-weight: bold;
    border-radius: 5px;
    z-index: 1000;
    /* टेक्स्ट में चमक या शैडो जोड़ी */
    text-shadow: 0 0 5px #fff, 0 0 10px #fff;
}


        
        body {
            margin: 0; 
            padding: 0;
            background-color: #0d1117;
            overflow-x: hidden; 
            padding-bottom: 600px; 
        }

        #draggable-support {
            position: fixed;
            right: 10px;
            bottom: 150px;
            width: 50px;
            height: 50px; 
            z-index: 10001;
            cursor: grab;
            touch-action: none;
            border-radius: 50%;     
            overflow: hidden;       
            background-color: #fff; 
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid gold;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.5);
        }

        #draggable-support img {
            width: 100%; height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        .wallet-container {
            position: absolute;
            top: 20.2%; left: 1.2%;
            display: flex;
            align-items: center;
            border-radius: 8px;
            padding: 2px 5px;
            z-index: 1000;
        }

        .wallet-fix {
            color: #ffffff;
            padding: 5px 8px;
            font-family: Arial;
            font-size: 18px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        .refresh-btn {
            transform: rotate(90deg);
            background: none;
            color: white;
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .container { position: relative; width: 100%; }
        .top-image { width: 100%; display: block; }
        
        /* Buttons Positioning */
        .wingo-btn { position: absolute; top: 92.9%; left: 0.6%; width: 48%; height: 118px; z-index: 999; }
        .chicken-btn { position: absolute; top: 122.9%; left: 0%; width: 32%; height: 180px; z-index: 999; }
        .aviator-btn { position: absolute; top: 122.9%; left: 33%; width: 32%; height: 180px; z-index: 999; }
        .deposit-btn { position: absolute; top: 17%; left: 57%; width: 19%; height: 44px; z-index: 1000; }
        .withdraw-btn { position: absolute; top: 17%; left: 79%; width: 18%; height: 44px; z-index: 1000; }

        .bottom-fixed { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 105%; z-index: 9999; margin-bottom: -133px; }
        .bottom-fixed img { width: 100%; display: block; }
        .account-btn-box { position: absolute; bottom: 134px; right: 3%; width: 18%; height: 70px; z-index: 10000; }
    </style>
</head>
<body>
    <div id="ff-play-container">
    <button class="play-btn-main" onclick="window.location.href='play_game.html'">PLAY NOW</button>
</div>

    <div class="icon-label original-label">ORIGINAL</div>
<div class="icon-label mines-label">MINES</div>
<div class="icon-label slot-label">SLOTS</div>
<div class="original-icon" onclick="handleIconClick(this, 'original')">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/5dbed4bbf17f181d635eec3508adbd47d34cd289/original.jpg">
</div>

<div class="ff-tournament-banner" onclick="handleIconClick(this, 'ff')">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/8e61a92cf14ed5a4e903850f2fcdc26100338f99/fftournament.png">
</div>

<div class="extra-slot-icon" onclick="handleIconClick(this, 'slot')">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/b2f44f3e1e546352b929128d7bdd289a0fd2fb3f/allslot.png">
</div>

<div class="mines-icon" onclick="handleIconClick(this, 'mines')">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/9655259478a8327682db77d3c130e7e6f00afaea/mines.png">
</div>

    

<div class="home-bottom-img">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/7491bee349154a5f3910f7b5b4d3bd8c60dc3318/homeniche.jpg" alt="Home Page Image">
</div>

<div id="draggable-support">
    <a href="support.html">
        <img src="https://raw.githubusercontent.com/jaharul007/jaharul/0ab7b9df6331b73aa6ba2f41060e99ccebbf359d/customer.png" alt="Support">
    </a>
</div>

<div class="container">
    <div class="wallet-container">
        <div class="wallet-fix">₹0.00</div>
        <button class="refresh-btn" onclick="location.reload()">↻</button>
    </div>
    <div class="mini-games-strip">FF TOURNAMENT</div>
    
    <a href="wingo_game.html" class="wingo-btn"></a>
    <a href="chicken.html" class="chicken-btn"></a>
    <a href="aviator.html" class="aviator-btn"></a>
    <a href="deposit.html" class="deposit-btn"></a>
    <a href="withdraw.html" class="withdraw-btn"></a>
    
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/58db71e407098116c82be62f7968004e7ed22d04/homeupar.jpg" class="top-image">
</div>

<div class="bottom-fixed">
    <img src="https://raw.githubusercontent.com/jaharul007/jaharul/5ef5d5c512d4ccef0cd74bfd91be6e13a560d99d/homebutton.png">
    <a href="account.html" class="account-btn-box"></a>
</div>

<script>
    // 1. URL से फोन नंबर निकालना (पहचान के लिए)
    const urlParams = new URLSearchParams(window.location.search);
    const rawPhone = urlParams.get('phone') || "";
    // अगर नंबर +91 के साथ नहीं है तो जोड़ना (मोंगोडीबी मैच के लिए)
    const globalPhone = (rawPhone && !rawPhone.startsWith('+')) ? '+' + rawPhone : rawPhone;
    const phoneParam = encodeURIComponent(globalPhone);

    // 2. बैलेंस लोड करने वाला फंक्शन (MongoDB से सीधा कनेक्शन)
    async function loadGlobalBalance() {
        const balElement = document.querySelector('.wallet-fix');
        if (!globalPhone || globalPhone === "+") return;

        try {
            // तुम्हारे बैकएंड API को कॉल
            const response = await fetch(`/api/auth?action=getBalance&phoneNumber=${phoneParam}`);
            const result = await response.json();
            
            if (result.success) {
                // ₹ का चिन्ह और मोंगोडीबी वाला बैलेंस
                balElement.innerText = `₹${parseFloat(result.balance).toFixed(2)}`;
            }
        } catch (error) {
            console.error("Balance fetch error:", error);
        }
    }

    // 3. सभी बटन्स को "स्मार्ट" बनाना (ताकि हर क्लिक पर फोन नंबर साथ जाए)
    function setupDynamicLinks() {
        if (!globalPhone || globalPhone === "+") {
            console.warn("User not logged in!");
            return;
        }

        // गेम बटन्स
        document.querySelector('.wingo-btn').href = `wingo_game.html?phone=${phoneParam}`;
        document.querySelector('.chicken-btn').href = `chicken.html?phone=${phoneParam}`;
        document.querySelector('.aviator-btn').href = `aviator.html?phone=${phoneParam}`;
        
        // ट्रांजैक्शन बटन्स
        document.querySelector('.deposit-btn').href = `deposit.html?phone=${phoneParam}`;
        document.querySelector('.withdraw-btn').href = `withdraw.html?phone=${phoneParam}`;
        
        // अकाउंट और सपोर्ट
        document.querySelector('.account-btn-box').href = `account.html?phone=${phoneParam}`;
        document.querySelector('#draggable-support a').href = `support.html?phone=${phoneParam}`;

        // टूर्नामेंट "PLAY NOW" बटन
        const playBtn = document.querySelector('.play-btn-main');
        if(playBtn) {
            playBtn.onclick = () => {
                window.location.href = `play_game.html?phone=${phoneParam}`;
            };
        }
    }

    // 4. पेज लोड होते ही सब शुरू करें
    window.addEventListener('DOMContentLoaded', () => {
        loadGlobalBalance();
        setupDynamicLinks();
        
        // हर 15 सेकंड में ऑटो-रिफ्रेश बैलेंस (ताकि मोंगोडीबी से अपडेट मिलता रहे)
        setInterval(loadGlobalBalance, 15000);
    });

    // --- तुम्हारा पुराना आइकन क्लिक और ड्रैग वाला लॉजिक यहाँ रहेगा ---
    function handleIconClick(element, type) {
        // ... (तुम्हारा पुराना कोड जैसा था वैसा ही रहने दें) ...
        const allIcons = document.querySelectorAll('.original-icon, .mines-icon, .extra-slot-icon, .ff-tournament-banner');
        allIcons.forEach(icon => icon.classList.remove('active-border'));
        element.classList.add('active-border');
        
        const bottomImgDiv = document.querySelector('.home-bottom-img'); 
        const bottomImgTag = document.querySelector('.home-bottom-img img'); 
        const playContainer = document.getElementById('ff-play-container'); 
        const wingoBtn = document.querySelector('.wingo-btn');
        const chickenBtn = document.querySelector('.chicken-btn');
        const aviatorBtn = document.querySelector('.aviator-btn');
        const ffStrip = document.querySelector('.mini-games-strip'); 

        if (type === 'ff') {
            if (bottomImgTag) bottomImgTag.src = "https://raw.githubusercontent.com/jaharul007/jaharul/11123fdf3c6e43f342a7367a03ea69d727a7817b/ff4vs4.jpg";
            if (playContainer) playContainer.style.display = 'block';
            if (bottomImgDiv) { bottomImgDiv.style.width = "40%"; bottomImgDiv.style.left = "20%"; }
            if (wingoBtn) wingoBtn.style.display = 'none';
            if (chickenBtn) chickenBtn.style.display = 'none';
            if (aviatorBtn) aviatorBtn.style.display = 'none';
            if (ffStrip) ffStrip.style.display = 'none';
        } else {
            if (bottomImgTag) bottomImgTag.src = "https://raw.githubusercontent.com/jaharul007/jaharul/7491bee349154a5f3910f7b5b4d3bd8c60dc3318/homeniche.jpg";
            if (playContainer) playContainer.style.display = 'none';
            if (bottomImgDiv) { bottomImgDiv.style.width = "100%"; bottomImgDiv.style.left = "50%"; }
            if (wingoBtn) wingoBtn.style.display = 'block';
            if (chickenBtn) chickenBtn.style.display = 'block';
            if (aviatorBtn) aviatorBtn.style.display = 'block';
            if (ffStrip) ffStrip.style.display = 'block';
        }
    }

    // --- तुम्हारा ड्रैग वाला कोड यहाँ रहेगा ---
    // ... (dragItem, events, dragStart, dragEnd, drag, setTranslate) ...
</script>
</body>
</html>
